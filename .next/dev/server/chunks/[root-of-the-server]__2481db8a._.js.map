{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/albertgarcia/Desktop/CODEHUNTER/BONEBATTLE/bone-battle-card-creator/app/api/send-card/route.ts"],"sourcesContent":["import { Resend } from 'resend';\nimport { NextResponse } from 'next/server';\n\nconst resend = new Resend(process.env.RESEND_API_KEY);\n\nexport async function POST(req: Request) {\n    try {\n        const { card, imageData } = await req.json();\n\n        if (!card || !imageData) {\n            return NextResponse.json({ error: 'Missing card data or image data' }, { status: 400 });\n        }\n\n        // Prepare email content\n        const { data, error } = await resend.emails.send({\n            from: 'Bone Battle <cards@codehunterlab.com>',\n            to: 'albert@codehunterlab.com',\n            subject: `Nueva Carta Creada: ${card.name}`,\n            html: `\n        <div style=\"font-family: sans-serif; color: #333 text-align: left;\">\n          <h1 style=\"color: #4f46e5;\">Solicitud de Nueva Carta</h1>\n          <p>Se ha recibido una nueva solicitud para Bone Battle.</p>\n          \n          <div style=\"background-color: #f3f4f6; padding: 20px; border-radius: 8px;\">\n            <p><strong>Nombre del Pup:</strong> ${card.name}</p>\n            <p><strong>Color de Hood:</strong> ${card.hoodColor}</p>\n            <p><strong>Pa√≠s:</strong> ${card.country}</p>\n            <p><strong>Pawsday:</strong> ${card.birthdate}</p>\n            <p><strong>Altura:</strong> ${card.height}</p>\n            <p><strong>Shoe Size:</strong> ${card.shoeSize}</p>\n            <p><strong>Social Link:</strong> ${card.socialLink}</p>\n            <p><strong>Total Huesos:</strong> ${card.totalBones || 'N/A'}</p>\n          </div>\n          \n          <p style=\"margin-top: 20px;\">La imagen de la carta se encuentra adjunta a este correo.</p>\n        </div>\n      `,\n            attachments: [\n                {\n                    filename: `${card.name.replace(/\\s+/g, '_')}_card.png`,\n                    content: imageData.split(',')[1],\n                },\n            ],\n        });\n\n        if (error) {\n            console.error('Resend Error:', error);\n            return NextResponse.json({ error: error.message }, { status: 500 });\n        }\n\n        return NextResponse.json({ success: true, data });\n    } catch (err: any) {\n        console.error('Server Error:', err);\n        return NextResponse.json({ error: err.message }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,oJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAE7C,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,MAAM,IAAI,IAAI;QAE1C,IAAI,CAAC,QAAQ,CAAC,WAAW;YACrB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkC,GAAG;gBAAE,QAAQ;YAAI;QACzF;QAEA,wBAAwB;QACxB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YAC7C,MAAM;YACN,IAAI;YACJ,SAAS,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;YAC3C,MAAM,CAAC;;;;;;gDAM6B,EAAE,KAAK,IAAI,CAAC;+CACb,EAAE,KAAK,SAAS,CAAC;sCAC1B,EAAE,KAAK,OAAO,CAAC;yCACZ,EAAE,KAAK,SAAS,CAAC;wCAClB,EAAE,KAAK,MAAM,CAAC;2CACX,EAAE,KAAK,QAAQ,CAAC;6CACd,EAAE,KAAK,UAAU,CAAC;8CACjB,EAAE,KAAK,UAAU,IAAI,MAAM;;;;;MAKnE,CAAC;YACK,aAAa;gBACT;oBACI,UAAU,GAAG,KAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;oBACtD,SAAS,UAAU,KAAK,CAAC,IAAI,CAAC,EAAE;gBACpC;aACH;QACL;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC,GAAG;gBAAE,QAAQ;YAAI;QACrE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAK;IACnD,EAAE,OAAO,KAAU;QACf,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE;AACJ"}}]
}